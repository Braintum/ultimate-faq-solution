(()=>{"use strict";const e=window.wp.blocks,l=window.wp.data,o=(window.React,window.wp.components),t=window.wp.blockEditor,a=window.wp.i18n,s=window.ReactJSXRuntime;(0,e.registerBlockType)("ultimate-faq-solution/block",{title:"FAQ",icon:"editor-help",category:"widgets",attributes:{group:{type:"string",default:""},exclude:{type:"array",default:[]},column:{type:"string",default:[]},behaviour:{type:"string",default:[]},elements_order:{type:"string",default:[]},hideTitle:{type:"boolean",default:!1}},edit({attributes:e,setAttributes:n,isSelected:i,context:r}){const u=(0,l.useSelect)((e=>e("core").getEntityRecords("postType","ufaqsw",{per_page:-1})),[]),c=(0,l.useSelect)((e=>[{label:(0,a.__)("Choose a column","ufaqsw"),value:""},{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"}]),[]),d=(0,l.useSelect)((e=>[{label:(0,a.__)("Choose a behaviour","ufaqsw"),value:""},{label:(0,a.__)("Accordion","ufaqsw"),value:"accordion"},{label:(0,a.__)("Toggle","ufaqsw"),value:"toggle"}]),[]),h=(0,l.useSelect)((e=>[{label:(0,a.__)("Choose an order","ufaqsw"),value:""},{label:(0,a.__)("ASC","ufaqsw"),value:"asc"},{label:(0,a.__)("DESC","ufaqsw"),value:"desc"}]),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.InspectorControls,{children:(0,s.jsxs)(o.PanelBody,{title:(0,a.__)("FAQ Settings","ufaqsw"),children:[(0,s.jsx)(o.SelectControl,{label:(0,a.__)("Select FAQ Group","ufaqsw"),help:(0,a.__)("Choose a group to display FAQs from.","ufaqsw"),value:e.group,options:u?[{label:(0,a.__)("Select a FAQ group","ufaqsw"),value:""},{label:(0,a.__)("All","ufaqsw"),value:"all"}].concat(u.map((e=>({label:e.title,value:e.id})))):[{label:(0,a.__)("Loading...","ufaqsw"),value:""}],onChange:e=>n({group:e})}),(0,s.jsx)(o.CheckboxControl,{label:(0,a.__)("Hide group title","ufaqsw"),help:(0,a.__)("Check to hide the group title. This will override the faq group setting.","ufaqsw"),checked:e.hideTitle,onChange:e=>n({hideTitle:e})}),"all"===e.group&&(0,s.jsx)(o.SelectControl,{label:"Behaviour",help:"Choose a behaviour for the FAQ display. This will override the faq group settings.",value:e.behaviour,options:d,onChange:e=>n({behaviour:e})}),(0,s.jsx)(o.SelectControl,{label:"Order",value:e.elements_order,options:h,onChange:e=>n({elements_order:e})}),"all"===e.group&&(0,s.jsx)(o.SelectControl,{label:"Column",help:"Select Column to display FAQs from.",value:e.column,options:c,onChange:e=>n({column:e})}),"all"===e.group&&(0,s.jsx)(o.PanelBody,{title:"Exclude Individual FAQ Groups",children:u&&u.map((l=>(0,s.jsx)(o.CheckboxControl,{label:l.title,checked:e.exclude.includes(l.id),onChange:o=>{const t=o?[...e.exclude,l.id]:e.exclude.filter((e=>e!==l.id));n({exclude:t})}},l.id)))})]})}),(0,s.jsxs)("div",{className:"components-placeholder is-large",children:[(0,s.jsxs)("div",{class:"components-placeholder__label",children:[(0,s.jsx)("span",{className:"faq-block-icon dashicons dashicons-editor-help",role:"img","aria-label":"FAQ Icon"})," FAQ Block"]}),(0,s.jsx)("div",{className:"components-placeholder__instructions",children:"Configure the block from right panel - Faq Settings"}),(0,s.jsxs)("div",{className:"components-placeholder__fieldset",children:[(0,s.jsx)("label",{children:"Generated Shortcode"}),(0,s.jsx)("input",{className:"components-text-control__input",type:"text",disabled:!0,value:function(){if(!e.group)return"";let l="[ ";return"all"===e.group?(l+="ufaqsw-all ",e.exclude.length>0&&(l+='exclude="'+e.exclude.join(",")+'" '),e.column.length>0&&(l+='column="'+e.column+'" '),e.behaviour.length>0&&(l+='behaviour="'+e.behaviour+'" ')):l+='ufaqsw id="'+e.group+'" ',e.elements_order.length>0&&(l+='elements_order="'+e.elements_order+'" '),e.hideTitle&&(l+='title_hide="1" '),l+="]",l}()})]})]})]})},save:()=>null})})();