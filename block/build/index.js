(()=>{"use strict";var e={n:l=>{var t=l&&l.__esModule?()=>l.default:()=>l;return e.d(t,{a:t}),t},d:(l,t)=>{for(var o in t)e.o(t,o)&&!e.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:t[o]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,t=window.wp.data,o=window.wp.element,a=window.wp.components,s=window.wp.blockEditor,i=window.wp.i18n,r=window.wp.apiFetch;var n=e.n(r);const u=window.ReactJSXRuntime;(0,l.registerBlockType)("ultimate-faq-solution/block",{title:"FAQ",icon:"editor-help",category:"widgets",attributes:{group:{type:"string",default:""},exclude:{type:"array",default:[]},behaviour:{type:"string",default:[]},elements_order:{type:"string",default:[]},hideTitle:{type:"boolean",default:!1}},edit({attributes:e,setAttributes:l,isSelected:r,context:d}){const[c,p]=(0,o.useState)([]);(0,o.useEffect)((()=>{n()({path:"/wp/v2/ufaqsw?per_page=100"}).then((e=>{p(e)}))}),[]);const h=(0,t.useSelect)((e=>[{label:(0,i.__)("Choose a behaviour","ufaqsw"),value:""},{label:(0,i.__)("Accordion","ufaqsw"),value:"accordion"},{label:(0,i.__)("Toggle","ufaqsw"),value:"toggle"}]),[]),_=(0,t.useSelect)((e=>[{label:(0,i.__)("Choose an order","ufaqsw"),value:""},{label:(0,i.__)("ASC","ufaqsw"),value:"asc"},{label:(0,i.__)("DESC","ufaqsw"),value:"desc"}]),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.InspectorControls,{children:(0,u.jsxs)(a.PanelBody,{title:(0,i.__)("FAQ Settings","ufaqsw"),children:[(0,u.jsx)(a.SelectControl,{label:(0,i.__)("Select FAQ Group","ufaqsw"),help:(0,i.__)("Choose a group to display FAQs from.","ufaqsw"),value:e.group,options:c?[{label:(0,i.__)("Select a FAQ group","ufaqsw"),value:""},{label:(0,i.__)("All","ufaqsw"),value:"all"}].concat(c.map((e=>({label:e.title,value:e.id})))):[{label:(0,i.__)("Loading...","ufaqsw"),value:""}],onChange:e=>l({group:e})}),(0,u.jsx)(a.CheckboxControl,{label:(0,i.__)("Hide group title","ufaqsw"),help:(0,i.__)("Check to hide the group title. This will override the faq group setting.","ufaqsw"),checked:e.hideTitle,onChange:e=>l({hideTitle:e})}),"all"===e.group&&(0,u.jsx)(a.SelectControl,{label:"Behaviour",help:"Choose a behaviour for the FAQ display. This will override the faq group settings.",value:e.behaviour,options:h,onChange:e=>l({behaviour:e})}),(0,u.jsx)(a.SelectControl,{label:"Order",value:e.elements_order,options:_,onChange:e=>l({elements_order:e})}),"all"===e.group&&(0,u.jsx)(a.PanelBody,{title:"Exclude Individual FAQ Groups",children:c&&c.map((t=>(0,u.jsx)(a.CheckboxControl,{label:t.title,checked:e.exclude.includes(t.id),onChange:o=>{const a=o?[...e.exclude,t.id]:e.exclude.filter((e=>e!==t.id));l({exclude:a})}},t.id)))})]})}),(0,u.jsxs)("div",{className:"components-placeholder is-large",children:[(0,u.jsxs)("div",{class:"components-placeholder__label",children:[(0,u.jsx)("span",{className:"faq-block-icon dashicons dashicons-editor-help",role:"img","aria-label":"FAQ Icon"})," FAQ Block"]}),(0,u.jsx)("div",{className:"components-placeholder__instructions",children:"Configure the block from right panel - Faq Settings"}),(0,u.jsxs)("div",{className:"components-placeholder__fieldset",children:[(0,u.jsx)("label",{children:"Generated Shortcode"}),(0,u.jsx)("input",{className:"components-text-control__input",type:"text",disabled:!0,value:function(){if(!e.group)return"";let l="[ ";return"all"===e.group?(l+="ufaqsw-all ",e.exclude.length>0&&(l+='exclude="'+e.exclude.join(",")+'" '),e.behaviour.length>0&&(l+='behaviour="'+e.behaviour+'" ')):l+='ufaqsw id="'+e.group+'" ',e.elements_order.length>0&&(l+='elements_order="'+e.elements_order+'" '),e.hideTitle&&(l+='title_hide="1" '),l+="]",l}()})]})]})]})},save:()=>null})})();